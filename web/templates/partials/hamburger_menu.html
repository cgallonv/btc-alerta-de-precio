{{ define "hamburger_menu" }}
<!-- Hamburger Button -->
<button id="hamburgerBtn" class="btn btn-link position-fixed top-0 start-0 m-3" style="z-index:1051;" aria-label="Abrir menú de navegación" aria-controls="sideMenu" aria-expanded="false">
    <i class="fas fa-bars fa-2x text-white" aria-hidden="true"></i>
</button>

<!-- Side Menu Overlay -->
<div id="sideMenuOverlay" class="position-fixed top-0 start-0 w-100 h-100" 
     style="background:rgba(0,0,0,0.5); z-index:1050; display:none;" tabindex="-1" aria-hidden="true"></div>

<!-- Side Menu -->
<nav id="sideMenu" class="position-fixed top-0 start-0 h-100 bg-white" 
     style="width:250px; z-index:1052; transform:translateX(-100%); transition:transform 0.3s ease;" role="navigation" aria-label="Menú lateral" tabindex="-1">
    <div class="d-flex flex-column h-100">
        <div class="p-4 bg-bitcoin">
            <span class="fw-bold text-white">
                <i class="fab fa-bitcoin" aria-hidden="true"></i> Bitcoin Price Alert
            </span>
        </div>
        <ul class="nav flex-column mt-3" role="menu">
            <li class="nav-item" role="none">
                <a class="nav-link px-4 py-3{{ if eq .CurrentPage "dashboard" }} active{{ end }}" href="/" role="menuitem" tabindex="0">
                    <i class="fas fa-chart-line me-2 bitcoin-color" aria-hidden="true"></i> Dashboard
                </a>
            </li>
            <li class="nav-item" role="none">
                <a class="nav-link px-4 py-3{{ if eq .CurrentPage "alerts" }} active{{ end }}" href="/alerts" role="menuitem" tabindex="0">
                    <i class="fas fa-bell me-2 bitcoin-color" aria-hidden="true"></i> Alerts
                </a>
            </li>
            <li class="nav-item" role="none">
                <a class="nav-link px-4 py-3{{ if eq .CurrentPage "account" }} active{{ end }}" href="/account" role="menuitem" tabindex="0">
                    <i class="fas fa-user me-2 bitcoin-color" aria-hidden="true"></i> Mi Cuenta
                </a>
            </li>
        </ul>
    </div>
</nav>

<!-- Hamburger Menu JavaScript -->
<script>
(function() {
    document.addEventListener('DOMContentLoaded', function() {
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const sideMenu = document.getElementById('sideMenu');
        const sideMenuOverlay = document.getElementById('sideMenuOverlay');

        function openMenu() {
            sideMenuOverlay.style.display = 'block';
            sideMenu.style.transform = 'translateX(0)';
            hamburgerBtn.setAttribute('aria-expanded', 'true');
            sideMenu.focus();
        }

        function closeMenu() {
            sideMenuOverlay.style.display = 'none';
            sideMenu.style.transform = 'translateX(-100%)';
            hamburgerBtn.setAttribute('aria-expanded', 'false');
            hamburgerBtn.focus();
        }

        hamburgerBtn.addEventListener('click', openMenu);
        hamburgerBtn.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                openMenu();
            }
        });
        sideMenuOverlay.addEventListener('click', closeMenu);
        sideMenu.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeMenu();
            }
        });
    });
})();
</script>
{{ end }} 
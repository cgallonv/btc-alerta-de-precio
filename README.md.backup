# ğŸš¨ Bitcoin Price Alert

Una aplicaciÃ³n completa en Go para monitorear el precio de Bitcoin y recibir alertas personalizadas mediante email y notificaciones de escritorio.

## âœ¨ CaracterÃ­sticas

- ğŸ“Š **Monitoreo en tiempo real** del precio de Bitcoin
- ğŸš¨ **Alertas personalizables**: precio por encima/debajo de un valor o cambio porcentual
- ğŸ“§ **Notificaciones por email** con diseÃ±o atractivo
- ğŸ’» **Notificaciones de escritorio** (macOS, Linux, Windows)
- ğŸŒ **Interfaz web moderna** para gestionar alertas
- ğŸ“ˆ **Historial de precios** con grÃ¡ficos interactivos
- ğŸ³ **Docker ready** para despliegue fÃ¡cil en la nube
- ğŸ’¾ **Base de datos SQLite** liviana y confiable
- ğŸ”„ **APIs redundantes** (CoinDesk + CoinGecko como backup)

## ğŸš€ InstalaciÃ³n y Uso

### Prerrequisitos

- Go 1.21 o superior
- Git

### InstalaciÃ³n Local

1. **Clonar el repositorio:**
```bash
git clone <tu-repo>
cd btc-alerta-de-precio
```

2. **Instalar dependencias:**
```bash
go mod tidy
```

3. **Configurar variables de entorno:**
```bash
cp .env.example .env
# Editar .env con tus configuraciones
```

4. **Ejecutar la aplicaciÃ³n:**
```bash
go run main.go
```

5. **Abrir en el navegador:**
```
http://localhost:8080
```

### ConfiguraciÃ³n de Email

Para habilitar notificaciones por email, configura las siguientes variables en tu archivo `.env`:

```env
# Gmail (recomendado)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=tu-email@gmail.com
SMTP_PASSWORD=tu-app-password  # No tu contraseÃ±a normal
FROM_EMAIL=tu-email@gmail.com
```

**Nota importante:** Para Gmail, necesitas generar una "App Password" en tu cuenta de Google con 2FA habilitado.

### Variables de Entorno

| Variable | DescripciÃ³n | Valor por defecto |
|----------|-------------|-------------------|
| `PORT` | Puerto del servidor web | `8080` |
| `ENVIRONMENT` | Entorno (development/production) | `development` |
| `DATABASE_PATH` | Ruta de la base de datos SQLite | `alerts.db` |
| `CHECK_INTERVAL` | Intervalo de verificaciÃ³n de precios | `30s` |
| `SMTP_HOST` | Servidor SMTP para emails | `smtp.gmail.com` |
| `SMTP_PORT` | Puerto SMTP | `587` |
| `SMTP_USERNAME` | Usuario SMTP | - |
| `SMTP_PASSWORD` | ContraseÃ±a SMTP | - |
| `FROM_EMAIL` | Email remitente | - |

## ğŸ³ Despliegue con Docker

### Build y Run Local

```bash
# Construir imagen
docker build -t btc-price-alert .

# Ejecutar contenedor
docker run -d \
  --name btc-alerts \
  -p 8080:8080 \
  -v $(pwd)/data:/app/data \
  -e SMTP_USERNAME=tu-email@gmail.com \
  -e SMTP_PASSWORD=tu-app-password \
  -e FROM_EMAIL=tu-email@gmail.com \
  btc-price-alert
```

### Docker Compose

```bash
# Iniciar servicios
docker-compose up -d

# Ver logs
docker-compose logs -f

# Detener servicios
docker-compose down
```

### Despliegue en la Nube

#### Heroku

```bash
# Instalar Heroku CLI y login
heroku create tu-app-btc-alerts

# Configurar variables de entorno
heroku config:set SMTP_USERNAME=tu-email@gmail.com
heroku config:set SMTP_PASSWORD=tu-app-password
heroku config:set FROM_EMAIL=tu-email@gmail.com

# Desplegar
git push heroku main
```

#### DigitalOcean App Platform

1. Fork este repositorio
2. Conecta tu cuenta de GitHub a DigitalOcean
3. Crea una nueva App desde tu repositorio
4. Configura las variables de entorno
5. Â¡Despliega!

## ğŸ¯ Uso de la AplicaciÃ³n

### 1. Crear Alertas

1. Abre la interfaz web en `http://localhost:8080`
2. Completa el formulario "Nueva Alerta":
   - **Nombre**: Identifica tu alerta
   - **Tipo**: Elige entre:
     - **Precio por encima de**: Se activa cuando BTC supera un precio
     - **Precio por debajo de**: Se activa cuando BTC cae por debajo de un precio
     - **Cambio porcentual**: Se activa con cambios significativos
   - **Email**: Para recibir notificaciones
3. Haz clic en "Crear Alerta"

### 2. Gestionar Alertas

- **ğŸ‘ï¸ Ver todas las alertas**: En el panel principal
- **ğŸ§ª Probar alerta**: BotÃ³n azul para enviar notificaciÃ³n de prueba
- **â¸ï¸ Activar/Desactivar**: BotÃ³n amarillo/verde
- **âœï¸ Editar**: BotÃ³n azul (prÃ³ximamente)
- **ğŸ—‘ï¸ Eliminar**: BotÃ³n rojo

### 3. Monitorear Precios

- **Precio actual**: Se actualiza cada 30 segundos
- **GrÃ¡fico**: Historial de las Ãºltimas 24 horas
- **EstadÃ­sticas**: Dashboard con mÃ©tricas importantes

## ğŸ› ï¸ API REST

La aplicaciÃ³n expone una API REST completa:

### Endpoints Principales

```bash
# Obtener precio actual
GET /api/v1/price

# Historial de precios
GET /api/v1/price/history?limit=100

# Listar alertas
GET /api/v1/alerts

# Crear alerta
POST /api/v1/alerts

# Obtener alerta especÃ­fica
GET /api/v1/alerts/{id}

# Actualizar alerta
PUT /api/v1/alerts/{id}

# Eliminar alerta
DELETE /api/v1/alerts/{id}

# Activar/desactivar alerta
POST /api/v1/alerts/{id}/toggle

# Probar alerta
POST /api/v1/alerts/{id}/test

# EstadÃ­sticas
GET /api/v1/stats

# Health check
GET /api/v1/health
```

### Ejemplo de Uso con cURL

```bash
# Crear una nueva alerta
curl -X POST http://localhost:8080/api/v1/alerts \
  -H "Content-Type: application/json" \
  -d '{
    "name": "BTC a la luna ğŸš€",
    "type": "above",
    "target_price": 100000,
    "email": "tu-email@gmail.com",
    "enable_email": true,
    "enable_desktop": true
  }'

# Obtener precio actual
curl http://localhost:8080/api/v1/price
```

## ğŸ—ï¸ Arquitectura

```
btc-alerta-de-precio/
â”œâ”€â”€ main.go                 # Punto de entrada
â”œâ”€â”€ config/                 # ConfiguraciÃ³n
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ api/               # Handlers HTTP
â”‚   â”œâ”€â”€ alerts/            # LÃ³gica de alertas
â”‚   â”œâ”€â”€ bitcoin/           # Cliente APIs de Bitcoin
â”‚   â”œâ”€â”€ notifications/     # Sistema de notificaciones
â”‚   â””â”€â”€ storage/           # Base de datos y modelos
â”œâ”€â”€ web/
â”‚   â”œâ”€â”€ templates/         # Templates HTML
â”‚   â””â”€â”€ static/           # CSS, JS, imÃ¡genes
â”œâ”€â”€ docker/               # Archivos Docker
â””â”€â”€ docs/                # DocumentaciÃ³n adicional
```

## ğŸ§ª Testing

```bash
# Ejecutar tests
go test ./...

# Test con coverage
go test -cover ./...

# Test de integraciÃ³n
go test -tags=integration ./...
```

## ğŸ“ Roadmap

- [ ] âœï¸ EdiciÃ³n de alertas desde la interfaz web
- [ ] ğŸ”” Notificaciones push para navegadores (Web Push)
- [ ] ğŸ“± Webhooks para integraciones externas
- [ ] ğŸ¦ Soporte para mÃºltiples criptomonedas
- [ ] ğŸ“Š MÃ©tricas y anÃ¡lisis avanzados
- [ ] ğŸ” AutenticaciÃ³n y mÃºltiples usuarios
- [ ] ğŸ“² Telegram Bot integration
- [ ] ğŸ¨ Temas personalizables

## ğŸ¤ Contribuir

1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

## ğŸ“„ Licencia

Este proyecto estÃ¡ bajo la Licencia MIT. Ver el archivo `LICENSE` para mÃ¡s detalles.

## ğŸ†˜ Soporte

Si tienes problemas o preguntas:

1. **Revisa la documentaciÃ³n** en este README
2. **Busca en Issues** existentes
3. **Crea un nuevo Issue** con detalles del problema
4. **Email**: [tu-email@domain.com]

## ğŸ™ Agradecimientos

- **CoinDesk API** - Datos de precios principales
- **CoinGecko API** - Datos de respaldo y historial
- **Gin Framework** - Framework web rÃ¡pido
- **GORM** - ORM para Go
- **Bootstrap** - Framework CSS
- **Chart.js** - GrÃ¡ficos interactivos

---

**âš ï¸ Disclaimer**: Esta aplicaciÃ³n es solo para fines informativos. Las fluctuaciones de precios de criptomonedas son altamente volÃ¡tiles. No constituye asesoramiento financiero. 